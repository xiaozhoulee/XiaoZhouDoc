## 第02节：模板语法

### 一、JavaScript表达式

在第01节中我们已经讲解了如何使用Vue绑定文本，示例代码如下所示。

```

```

### 三、列表渲染

#### 显示列表

在学习jQuery的时候，我们学习过水果列表的例子，如果忘记了，我们可以再练习写一下这个例子：有一个数组如下所示[demo07](https://github.com/xiaozhoulee/xiaozhou-examples/blob/master/05-Vue入门/第01章%EF%BC%9Avue的基本概念%EF%BC%88一%EF%BC%89/demo07.html)：

``` js
var fruits = ["香蕉","苹果","鸭梨"];
```

通过js，将数组中的所有元素在html的列表中显示，jQuery的代码这里不再演示。我们的目标是用vue来实现显示列表的功能，在vue中，fruits不再是一个变量，而是data中的一个属性。

``` html
<body>
    <div id="app">
        <ul>
            <li v-for="fruit in fruits">{{fruit}}</li>
        </ul>
    </div>
    <script src="../../script/vue.js"></script>
    <script>
        new Vue({
            el:"#app",
            data:{
                fruits:["香蕉","苹果","鸭梨"]
            }
        })
    </script>
</body>
```

#### 获取索引

* 通过v-for可以实现列表的显示，in前面的是集合中的每一个元素
* 在上面的例子中"fruit in fruits"中的fruit代表集合中的每个元素，集合中有多少个元素，就会有多少个li被生成，这些不用我们手动操作，vue都为我们做好了。

如果将代码改成下面的样子，我们还可以获取到数据元素的索引[demo08](https://github.com/xiaozhoulee/xiaozhou-examples/blob/master/05-Vue入门/第01章%EF%BC%9Avue的基本概念%EF%BC%88一%EF%BC%89/demo08.html):
``` html
<div id="app">
    <ul>
        <li v-for="(val,index) in fruits">
            <p>水果名字是 {{val}}</p>
            <p>水果序号是 {{index}}</p>
        </li>
    </ul>
</div>
```

#### 列表操作

在上一节的例子中，我们讲解了：

* 如何将数组中的元素在列表中显示
* 如何获取元素的索引

接下来我们要做一个例子，仍然是显示一个普通的水果列表，当我们点击水果列表中的元素时，可以在控制台输出这个元素的索引[demo09](https://github.com/xiaozhoulee/xiaozhou-examples/blob/master/05-Vue入门/第01章%EF%BC%9Avue的基本概念%EF%BC%88一%EF%BC%89/demo09.html
)
``` html
<body>
    <div id="app">
        <ul>
            <li 
                v-on:click="showIndex(index)" 
                v-for="(val,index) in fruits">
                    {{val}}
            </li>
        </ul>
    </div>
    <script src="../../script/vue.js"></script>
    <script>
        new Vue({
            el:"#app",
            data:{
                fruits:["香蕉","苹果","鸭梨"]
            },
            methods:{
                showIndex:function(index){
                    console.log(index);
                }   
            }
        })
    </script>
</body>
```

通过上面的例子我们可以知道v-onclick="showIndex(index)"代码中,事件是可以传递参数的，通过这种方式可以将数据元素的索引传递到methods中，再通过形参来获取这个索引，既然可以获取到数据元素的索引，那么我们就可以实现一个“删除列表元素的功能”[demo10](https://github.com/xiaozhoulee/xiaozhou-examples/blob/master/05-Vue入门/第01章%EF%BC%9Avue的基本概念%EF%BC%88一%EF%BC%89/demo10.html)
``` html
<body>
    <div id="app">
        <ul>
            <li v-for="(val,index) in fruits">
                {{val}}
                <span v-on:click="del(index)">删除</span>
            </li>
        </ul>
    </div>
    <script src="../../script/vue.js"></script>
    <script>
        new Vue({
            el:"#app",
            data:{
                fruits:["香蕉","苹果","鸭梨"]
            },
            methods:{
                del:function(index){
                    //根据索引值（index）删除这一条内容
                    this.fruits.splice(index,1);
                }   
            }
        })
    </script>
</body>
```

上面的例子在li中添加了另一个span元素，我们为span绑定单击事件，并添加了删除元素的功能。

在这里，我们不必考虑考虑如何删除DOM元素节点，如何操作DOM的文本节点，我们只需要将html的元素和属性与vue中的选项逐一对应，然后关注点放在数据上，就能实现我们需要的功能了。

### 四、条件判断
学到这里，不得不提一下的是，所有v-bind或者v-if所关联的都是Vue的动态变量[demo4](https://github.com/xiaozhoulee/xiaozhou-examples/blob/master/05-Vue入门/第01章%EF%BC%9Avue的基本概念%EF%BC%88一%EF%BC%89/demo04.html)
``` html
<body>

<div id="app">
    <!-- 使用v-if进行条件判断，条件为true则显示此标签，false则不显示 -->
    <p v-if="seen">现在你看到我了</p>
</div>
<script>
  //激活vue，给动态属性复制
    new Vue({
        el:"#app",
        data:{
          seen: true
        }
    })
</script>
</body>
```
如上代码所示，即为v-if的使用,seen是vue定义的一个变量。注意：v-if的变量值一般都是true或者false。效果有点像是显示（true）/隐藏（false）。

### 三、单文件组件案例

接下来我们用两个小案例来熟悉单文件组件的应用。

#### 计数器
``` html
<template>
  <div id='app'>
    <button @click="increment()">+</button> 
    <h1>{{count}}</h1> 
    <button @click="decrement()">-</button>
  </div>
</template>

<script>
export default {
  name:'app',
  data(){
    return {
      // 在data里声明一个count变量，通过方法来更改
      count:0
    }
  },
  methods:{
    //点击增加的方法
    increment(){
      //点击的时候自增count变量的值
      this.count++
    },
     decrement(){
      //点击的时候自减count变量的值
      this.count--
    }
  }
}
</script>
```
#### 水果列表
``` html
<template>
  <div id="app">
    <ul>
      <li v-for="(val,index) in fruits">{{val}}</li>
    </ul>
  </div>
</template> 

<script>
export default {
  name: "app",
  data() {
    return {
      fruits: ["香蕉", "苹果", "鸭梨"]
    };
  }
};
</script>
```

### 课后练习

1. 完成一个计数器组件，让计数器中的数字不能小于0；
2. 完成一个选项卡组件