# 第03节：面向对象-多态

### 目标
- 面向对象三大特性
- 类属性和实例属性
- 类方法和静态方法

### 一、面向对象三大特性

- 封装
  - 将属性和方法书写到类的里面的操作即为封装
  - 封装可以为属性和方法添加私有权限
- 继承
  - 子类默认继承父类的所有属性和方法
  - 子类可以重写父类属性和方法
- 多态
  - 传入不同的对象，产生不同的结果

### 二、多态

- 定义：多态是一种使用对象的方式，子类重写父类方法，调用不同子类对象的相同父类方法，可以产生不同的执行结果
- 好处：可以增加代码的灵活度
- 实现步骤：
  - 定义父类，并提供公共方法
  - 定义子类，并重写父类方法
  - 传递子类对象给调用者，可以看到不同子类执行效果不同

实例：  
``` python
# 需求：警务人员和警犬一起工作，警犬分为两种，一种追击敌人，一种追击毒品

# 1、定义父类，提供公共方法： 警犬和人
# 2、定义子类，重写父类方法：  定义两个类，表示不同的警犬
# 3、创建对象，调用不同的功能，传入不同的对象

# 1、定义父类，提供公共方法
class Dog(object):
    def work(self):
        pass

# 2、定义子类，并重写父类方法

# 追击敌人警犬类
class ArmyDog(Dog):
    def work(self):
        print('追击敌人...')
# 追击毒品警犬的
class DrugDog(Dog):
    def work(self):
        print('追击毒品')
# 定义人类
class Person(object):
    def work_dog(self,dog): # 形参dog是为了传递不同的对象用的
        dog.work()
# 3、创建对象，调用不同方法

# 创建追击敌人警犬对象
aa = ArmyDog()
# 创建追击毒品警犬对象
bb = DrugDog()
# 创建警务人员对象，并调用不同的对象（即work方法里的代码）
bili = Person()
bili.work_dog(aa)
bili.work_dog(bb)
```
### 三、类属性和实例属性
#### 类属性
#### 1、设置和访问类属性：  

- 类属性：包括类方法和类变量，可以通过类或实例来访问，只能通过类来修改。
- 类属性可以使用类或实例对象来访问。

实例：  
``` python
# 定义类和类属性
class LpL(object):
    rng = 'uzi'


# 创建对象
aa = LpL()
bb = LpL()

# 通过类来访问类属性
print(LpL.rng) # uzi
# 通过对象来访问类属性
print(aa.rng) # uzi
print(bb.rng) # uzi
```

> 类属性的特点
>
> - 记录的某项数据 始终保持一致时，则定义类属性。
> - 实例属性要求每个对象为其单独开辟一份内存空间来记录数据，而类属性为全类所共有，仅占用一份内存，更加节省内存空间。
#### 2、修改类属性

类属性只能通过类对象修改，不能通过实例对象修改，如果通过实例对象修改类属性，表示的是创建了一个实例属性。

实例：  
``` python
class LpL(object):
    rng = 10


aa = LpL()
bb = LpL()

# 修改类属性
# LpL.rng = 20 # 修改成功
# print(LpL.rng)  # 20
# print(aa.rng)  # 20
# print(bb.rng) # 20

# 通过实例对象修改类属性
aa.rng = 20
print(LpL.rng) # 10 --- 未修改成功
print(aa.rng) # 20
print(bb.rng) # 10
```
#### 实例属性
实例属性又被称为对象属性，实例属性无法通过类进行修改。  

实例：  
``` python
class Dog(object):
    def __init__(self):
        self.age = 5

    def info_print(self):
        print(self.age)

aa = Dog()
print(aa.age)
# print(Dog.age) # 报错，实例属性不能通过类访问
```
### 四、类方法和静态方法
#### 类方法

#### 1、类方法特点
- 需要用装饰器`@classmethod`来标识其为类方法，对于类方法，**第一个参数必须是类对象**，一般以`cls`作为第一个参数。

#### 2、静态方法使用场景
- 当方法中需要使用类对象（例如访问私有属性）时，定义类方法。  
- 类方法一般和类属性配合使用

#### 3、实例

``` python
# 1、定义类：私有属性，类方法获取这个私有属性
class Dog(object):
    __num = 10
# 2、定义类方法
    @classmethod
    def get_num(cls):
        return cls.__num

# 3、创建对象，调用类方法
wangcai = Dog()
print(wangcai.get_num()) # 10
```
#### 静态方法

#### 1、静态方法特点

- 需要通过装饰器`@staticmethod`来进行修饰，静态方法既不需要传递类对象也不需要传递实例对象（形参没有self/cls）。
- 静态方法可以通过实例对象和类对象去访问。

#### 2、静态方法使用场景

- 当方法中既不需要使用实例对象(如实例对象，实例属性)，也不需要使用类对象 (如类属性、类方法、创建实例等)时，定义静态方法
- 取消不需要的参数传递，有利于 减少不必要的内存占用和性能消耗
#### 3、实例
``` python
# 1、定义类、静态方法
class Dog():
    @staticmethod
    def print_dog():
        print('这只狗叫旺财')

# 2、创建对象
wangcai = Dog()
# 3、使用类和对象来调用静态方法

# 使用对象调用
wangcai.print_dog() # 这只狗叫旺财 --- 调用成功
# 使用类调用
Dog.print_dog() # 这只狗叫旺财 --- 调用成功
```
### 五、总结

- 面向对象三大特性
  - 封装
  - 继承
  - 多态
- 类属性
  - 归属于类对象的属性，所有对象共有的属性
- 实例属性
- 类方法

``` python
@classmethod
def xx():
  代码
```

- 静态方法

``` python
@staticmethod
def xx():
  代码
```

